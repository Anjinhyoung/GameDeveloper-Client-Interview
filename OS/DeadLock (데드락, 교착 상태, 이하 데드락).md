## DeadLock (데드락, 교착 상태, 이하 데드락)

데드락는 공유 자원에 대해서 타 프로세스가 선점한 자원을 필요로 하고 그 선점한 프로세스도 타 프로스세의 선점 자원을 원해 서로 무한정 기다리게 되는 것입니다.



> 간단한 비유를 하자면 수저가 있고 두 사람이 각각 숟가락, 젓가락을 나눠 가졌습니다.
>
> 밥을 먹기 위해서는 수저를 완성해야 하는데 이 둘은 각자의 도구를 놓을 생각이 없기에 서로 밥을 못먹게 되는 이야기 입니다.



## 데드락의 발생 조건

데드락의 경우 아래 4 조건이 동시에 지켜지면 발생하게 됩니다.

- 공유 자원에 대한 상호 배제를 하고 있을 때
- 추가적인 자원을 위해 기다리고 있을 때
- 선취 불가능(No Preemptive)
  - 다른 프로세스 종료가 안되는 경우
- 자원 관계에 있어서 사이클이 있을 때 
  - 원하는 자원 -> 가지는 프로세스로 그래프를 그릴 때 사이클이 있는 경우

특히 위 '상호 배제'는 반드시 지켜야 하는 부분입니다.



## 데드락 방지, 해결

위 `데드락 발생 조건` 4가지중 1개라도 사라지면 해결이 가능합니다. 다만 위에 언급한대로 1번, `상호배제`의 경우 제거하면 안됩니다. 때문에 남은 3개에 초점을 맞춰 해결을 하게 됩니다.

대부분의 경우 데드락을 방지하기 위해서 사이클이 발생하는걸 방지하는데 초점이 맞춰져 있습니다.



혹시나 데드락이 발생했을 경우에는 관련 프로세스를 전부 종료하거나 데드락이 사라질 때 까지 프로세스를 하나씩 중단하게 됩니다.



