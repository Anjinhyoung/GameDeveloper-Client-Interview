# const vs readonly

C++과 다르게 C#에서는 readonly 가 있어 수정이 안되는 읽기 전용 키워드를 제공하고 있습니다. 이 둘의 차이를 간단하게 보겠습니다.

- const
  - 컴파일 타임 상수 (컴파일 시 변수가 값으로 대체)
  - 스택에 위치하게 된다
  - 선언과 동시에 값을 할당
  - 내장 자료형에만 사용 가능
    - 때문에 사용자 정의 클래스로는 불가능
- readonly
  - 런타임 상수 (런타임에 상수에 대한 참조)
  - 힙에 위치하게 된다
  - 생성자에서 초기화 가능 (그 외 변경 불가능)
  - 어떤 타입과도 사용 가능


## const 보다는 readonly가 좋다

> 한빛미디어 "Effective C# 3판" 아이템 2의 내용입니다.

둘 중 가장 큰 차이는 readonly는 상수에 대한 참조 코드를 생성한다는 점입니다. 때문에 const의 값을 변경하게 된다면 이를 사용하는 곳은 전부 재컴파일을 해야 합니다. 만일 하지 않으면 이전의 const 값으로 되어 있어 문제가 될 수 있습니다.
다만 readonly의 경우에는 일부만 리빌드 해도 이를 사용하는 다른 코드들은 참조를 가지고 있으므로 리빌드 없이 올바르게 사용이 가능합니다.

그 외 const는 스택에 있어 빠르다는 장점을 가지고 있지만 그 외의 유연성이 떨어지기에 아래 경우들을 제외하고 가급적 readonly를 사용하는게 좋습니다.

- 특성의 매개변수
- switch/case 문의 레이블
- enum 정의

