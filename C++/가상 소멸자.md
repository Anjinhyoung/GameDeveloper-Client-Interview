# 가상 소멸자와 관련한 이야기

상속 관계가 있다면 가상 소멸자를 선언해 주는 것이 좋습니다. 

만일 소멸자가 비가상으로 되어있고 부모 클래스에서 동적으로 할당한 자료를 소멸자에서 소멸하기로 되어 있다고 합시다.

이 상태에서 자식 클래스의 인스턴스가 소멸할 경우 자식 클래스의 소멸자만 불리게 되므로 부모 클래스에서 동적 할당한 자료가 해제되지 않아 메모리 누수의 위험이 있습니다.

이를 위해서 상속 관계에서 소멸자는 virtual 선언을 해주는 것이 좋으며 부모 클래스에 virtual 키워드를 붙이면 자식 클래스의 소멸자는 자동으로 virtual이 됩니다.



추가적으로 소멸자가 불릴 때는 자식 -> 부모 클래스 순으로 불리게 됩니다.